在PyTorch中，`t.squeeze()`函数用于**从张量中移除尺寸为1的维度**。只能是该维度的数值为1，2的话还改不了，可以指定移除哪个为1的维度。不指定则所有为1的维度都被移除。
**方法定义**：
```python
t.squeeze(dim=None)
```
**参数**：
- `dim`（可选）：指定要挤压（squeeze）的**维度**，就是位置！如果指定了 `dim`，则只有在该维度上尺寸为1的维度会被移除。如果未指定 `dim`，则移除所有尺寸为1的维度。
![[Pasted image 20231025195005.png]]
**返回值**：
`squeeze()`方法返回一个新的张量，其中尺寸为1的维度被移除。
**注意**：
- `squeeze()`方法不会改变原始张量的形状，而是返回一个具有移除尺寸为1的维度的新张量。
- 如果没有尺寸为1的维度，`squeeze()`方法不会改变张量的形状。
**示例**：
以下是使用`squeeze()`方法的示例：
```python
import torch

# 创建一个具有尺寸为1的维度的张量
t1 = torch.tensor([[[1, 2, 3]]])
print(t1.shape)  # 输出: torch.Size([1, 1, 3])

# 移除尺寸为1的维度
t2 = t1.squeeze()
print(t2.shape)  # 输出: torch.Size([3])

# 创建一个没有尺寸为1的维度的张量
t3 = torch.tensor([1, 2, 3])
print(t3.shape)  # 输出: torch.Size([3])

# 尝试移除尺寸为1的维度，但不会改变形状
t4 = t3.squeeze()
print(t4.shape)  # 输出: torch.Size([3])
```

在上述示例中，我们创建了几个张量，其中一些具有尺寸为1的维度，而其他张量没有。

对于张量 `t1`，它具有尺寸为1的维度，即 `(1, 1, 3)`。我们使用`squeeze()`方法移除尺寸为1的维度，结果是一个新的张量 `t2`，其形状为 `(3)`。

对于张量 `t3`，它没有尺寸为1的维度，即 `(3)`。我们尝试使用`squeeze()`方法移除尺寸为1的维度，但由于没有这样的维度存在，所以形状保持不变，结果仍为 `(3)`。

`squeeze()`方法对于简化张量形状、减少不必要的尺寸为1的维度非常有用。